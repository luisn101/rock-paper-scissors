<!DOCTYPE html>
<html>
    <head>
        <title>Rock Paper Scissors</title>
    </head>
    <body>
        <script>
            let playerScore = 0;
            let computerScore = 0;

            function computerPlay() {
                let randomGenerator = Math.floor(Math.random() * 3);

                if(randomGenerator === 0) {
                    return 'rock';
                } else if(randomGenerator === 1) {
                    return 'paper';
                } else {
                    return 'scissors';
                }
            }

            function playRound(playerSelection, computerSelection) {

                if(playerSelection === computerSelection) {
                    return ('It\'s a tie. Player:' + playerScore + ' Computer:' + computerScore);
                } else if(playerSelection === 'rock' && computerSelection === 'paper') {
                    computerScore += 1;
                    return ('Paper beats rock. Player:' + playerScore + ' Computer:' + computerScore);
                } else if(playerSelection === 'rock' && computerSelection === 'scissors') {
                    playerScore += 1;
                    return ('Rock beats scissors. Player:' + playerScore + ' Computer:' + computerScore);
                } else if(playerSelection === 'paper' && computerSelection === 'rock') {
                    playerScore += 1;
                    return ('Paper beats rock. Player:' + playerScore + ' Computer:' + computerScore);
                } else if(playerSelection === 'paper' && computerSelection === 'scissors') {
                    computerScore += 1;
                    return ('Scissors beats paper. Player:' + playerScore + ' Computer:' + computerScore);
                } else if(playerSelection === 'scissors' && computerSelection === 'rock') {
                    computerScore += 1;
                    return ('Rock beats scissors. Player:' + playerScore + ' Computer:' + computerScore);
                } else if(playerSelection === 'scissors' && computerSelection === 'paper') {
                    playerScore += 1;
                    return ('Scissors beats paper. Player:' + playerScore + ' Computer:' + computerScore);
                } else {
                    return 'Try again';
                }
            }

            
            //console.log(playRound(playerSelection, computerSelection));
            
            function game() {
                let gameRound = 1;

                while(gameRound <= 5) {
                    let playerSelection = prompt('choose rock, paper or scissors:').toLowerCase();
                    const computerSelection = computerPlay();
                    if(playerSelection === 'rock' || playerSelection === 'paper' || playerSelection === 'scissors') {
                        console.log(playRound(playerSelection, computerSelection));
                        gameRound++;
                    } else {
                        console.log('Wrong input, please try again.');
                    }
                }
                
                if(playerScore === computerScore) {
                    console.log("The game is a draw");
                } else if(playerScore > computerScore) {
                    console.log("You won!");
                } else {
                    console.log("You lost :(");
                }

            }
            game();
        </script>
    </body>
</html>